# Queries for Simulation service
PISD.GET_PRODUCT_INFORMATION_LIFE=conPISD;SELECT b.INSURANCE_BUSINESS_NAME, p.INSURANCE_PRODUCT_ID, p.INSURANCE_PRODUCT_DESC FROM PISD.T_PISD_INSURANCE_PRODUCT p INNER JOIN PISD.T_PISD_INSURANCE_BUSINESS b ON p.INSURANCE_RISK_BUSINESS_ID = b.INSURANCE_RISK_BUSINESS_ID WHERE p.INSURANCE_PRODUCT_TYPE = :INSURANCE_PRODUCT_TYPE
PISD.GET_PRODUCT_MODALITIES_INFORMATION_LIFE=conPISD;SELECT pm.INSURANCE_COMPANY_MODALITY_ID, pm.INSURANCE_MODALITY_NAME, pm.INSURANCE_MODALITY_TYPE, pm.SUGGESTED_MODALITY_IND_TYPE, ms.PUBLICATION_ORDER_NUMBER FROM PISD.T_PISD_INSRNC_PRD_MODALITY pm LEFT JOIN PISD.T_PISD_INSURANCE_MOD_SCHAN ms ON pm.INSURANCE_PRODUCT_ID = ms.INSURANCE_PRODUCT_ID AND pm.INSURANCE_MODALITY_TYPE = ms.INSURANCE_MODALITY_TYPE WHERE pm.INSURANCE_PRODUCT_ID = :INSURANCE_PRODUCT_ID AND pm.INSURANCE_MODALITY_TYPE IN (:INSURANCE_MODALITY_TYPE) AND ms.SALE_CHANNEL_ID = :SALE_CHANNEL_ID ORDER BY ms.PUBLICATION_ORDER_NUMBER
PISD.SELECT_INSURANCE_SIMULATION_ID_LIFE=conPISD;SELECT PISD.Q_PISD_SIMULATION_ID0.NEXTVAL FROM DUAL
PISD.INSERT_INSURANCE_SIMULATION_LIFE=conPISD;INSERT INTO PISD.T_PISD_INSURANCE_SIMULATION (INSURANCE_SIMULATION_ID, INSRNC_COMPANY_SIMULATION_ID, CUSTOMER_ID, CUSTOMER_SIMULATION_DATE, CUST_SIMULATION_EXPIRED_DATE, BANK_FACTOR_TYPE, BANK_FACTOR_AMOUNT, BANK_FACTOR_PER, REGISTRY_SITUATION_TYPE, SOURCE_BRANCH_ID, CREATION_USER_ID, CREATION_DATE, USER_AUDIT_ID, AUDIT_DATE, PERSONAL_DOC_TYPE, PARTICIPANT_PERSONAL_ID, INSURED_CUSTOMER_NAME, CLIENT_LAST_NAME, CUSTOMER_SEGMENT_NAME) VALUES (:INSURANCE_SIMULATION_ID, :INSRNC_COMPANY_SIMULATION_ID, :CUSTOMER_ID, TO_DATE(:CUSTOMER_SIMULATION_DATE, 'DD/MM/YYYY'), TO_DATE(:CUST_SIMULATION_EXPIRED_DATE, 'DD/MM/YYYY'), :BANK_FACTOR_TYPE, :BANK_FACTOR_AMOUNT, :BANK_FACTOR_PER, '01', :SOURCE_BRANCH_ID, :CREATION_USER_ID, SYSTIMESTAMP, :USER_AUDIT_ID, SYSTIMESTAMP, :PERSONAL_DOC_TYPE, :PARTICIPANT_PERSONAL_ID, :INSURED_CUSTOMER_NAME, :CLIENT_LAST_NAME, :CUSTOMER_SEGMENT_NAME)
PISD.INSERT_INSRNC_SIMLT_PRD_LIFE=conPISD;INSERT INTO PISD.T_PISD_INSRNC_SIMLT_PRD (INSURANCE_SIMULATION_ID, INSURANCE_PRODUCT_ID, CAMPAIGN_FACTOR_TYPE, CAMPAIGN_OFFER_1_AMOUNT, CAMPAIGN_FACTOR_PER, SALE_CHANNEL_ID, REGISTRY_SITUATION_TYPE, SOURCE_BRANCH_ID, CREATION_USER_ID, CREATION_DATE, USER_AUDIT_ID, AUDIT_DATE) VALUES (:INSURANCE_SIMULATION_ID, :INSURANCE_PRODUCT_ID, :CAMPAIGN_FACTOR_TYPE, :CAMPAIGN_OFFER_1_AMOUNT, :CAMPAIGN_FACTOR_PER, :SALE_CHANNEL_ID, '01', :SOURCE_BRANCH_ID, :CREATION_USER_ID, SYSTIMESTAMP, :USER_AUDIT_ID, SYSTIMESTAMP)